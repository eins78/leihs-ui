.button {
  background: none;
  border: 0;
  cursor: pointer;
  display: inline-block;
  font-size: 1.3em;
  font-weight: bold;
  height: 31px;
  text-align: center;
  margin-right: 6px;
  padding: 0 10px;
  position: relative;
  vertical-align: middle;
  @include borderRadius(6px);
  
  &>img.loading {
    height: 14px;
    width: 14px;
    @include opacity(0.8);
  }
}

.button:active {
  line-height: 1.5em;
}

a.button {
  padding-top: 6px;
  height: 23px;
}

@mixin button($color, $color2, $color3, $color4, $pos, $pos-hover, $pos-active) {
  color: $color;
  border: 1px solid $color2;
  border-top: 1px solid $color3;
  background: url($slices-h) repeat-x 0 $pos;
  
  &:hover {
    background: url($slices-h) repeat-x 0 $pos-hover;
    color: $color4;
  }
  
  &:active {
    background: url($slices-h) repeat-x 0 $pos-active;
  }
  
  &[disabled=disabled], &[disabled=disabled]:hover, &[disabled=disabled]:active {
    background: url($slices-h) repeat-x 0 $pos;
    cursor: default;
    color: $color !important;
  }
}

.button.green {@include button(#4d9148, $lightgrey, #47c23e, #515151, -156px, -188px, -220px)};
.button.white {@include button(#8a8a8a, $lightgrey, #c0c0c0, #515151, -252px, -284px, -316px)};
.button.red {@include button(#db5252, #df7070, #ea9090, #f60000, -252px, -284px, -316px)};

// SMALLBUTTON ////////////////////////////////

.button.small {
  font-size: 1.2em;
  font-weight: normal;
  height: 22px;
  padding: 0 8px;
  margin-right: 2px;
}

button.button.small {
  height: 24px;
}

a.button.small {
  padding-top: 3px;
  height: 19px;
}

.button.small:active {
  line-height: 1.4em;
}

.button.small.green {@include button(#4d9148, $lightgrey, #47c23e, #515151, -444px, -467px, -490px)};
.button.small.white {@include button(#8a8a8a, $lightgrey, #c0c0c0, #515151, -513px, -536px, -559px)};
.button.small.red {@include button(#db5252, #df7070, #ea9090, #f60000, -582px, -605px, -628px)};

// MULTIBUTTON ////////////////////////////////

.multibutton {
  display: inline-block;
  position: relative;
  text-align: left;
  
  &[disabled=disabled], &[disabled=disabled]:hover, &[disabled=disabled]:active {
    @include opacity(0.6);
    
    &>.button {
      cursor: default;
      
      &:hover {
        background: url($slices-h) repeat-x 0 -252px;
        color: #8a8a8a;
        border-bottom-right-radius: 0;
      }
    }
    
    &>.alternatives:hover {
      
      .trigger {
        background: url($slices-h) repeat-x 0 -252px;
        border-bottom-right-radius: 6px;
        
        .arrow {
          @include opacity(0.6);
        }
      }
            
      .button {
        display: none;
      }
      
      &+.button {
        border-bottom-left-radius: 6px;    
      }
    }
  }
  
  &>.button {
    border: 1px solid $lightgrey;
    display: inline-block;
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
    border-bottom-left-radius: 6px;
    border-top-left-radius: 6px;
    margin-right: 30px !important;
    
    .open_alternatives {
      border-bottom-left-radius: 0;
    }
  }
  
  .alternatives {
    display: block;
    position: absolute;
    top: 31px;
    left: -1px;
    width: 100%;
    
    .trigger {
      background: url($slices-h) repeat-x 0 -252px;
      border: 1px solid $lightgrey;
      border-left: none;
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 6px;
      border-top-right-radius: 6px;
      display: block;
      height: 29px;
      position: absolute;
      right: 0;
      top: -31px;
      width: 28px;
      
      .arrow {
        background: url($image-sprite) no-repeat -53px -37px;
        height: 6px;
        left: 11px;
        position: relative;
        top: 13px;
        width: 7px;
        @include opacity(0.6);
      }
    }
    
    .button {
      border: 1px solid $lightgrey !important;
      border-top: none !important;
      display: none;
      text-align: left;
      position: relative;
      white-space: nowrap;
      margin-left: 1px;
      @include borderRadius(0);
      @include boxShadow (0 4px 8px #AAA);
      
      .icon {
        margin-left: 2px;
        margin-right: 4px;
      }
      
      &:last-child {
        border-bottom-right-radius: 6px;
        border-bottom-left-radius: 6px;
      }
    }
    
    &:hover {
      z-index: 9999;
      
      .trigger {
        background: url($slices-h) repeat-x 0 -284px;
        border-bottom-right-radius: 0;
        
        .arrow {
          @include opacity(1.0);
        }
      }
      
      .button {
        display: block;        
      }
      
      &+.button {
        border-bottom-left-radius: 0;
      }
    }
  }
  
  &.open {
    
    .alternatives {
      
      z-index: 9999;
      
      .trigger {
        background: url($slices-h) repeat-x 0 -284px;
        border-bottom-right-radius: 0;
        
        .arrow {
          @include opacity(1.0);
        }
      }
      
      .button {
        display: block;        
      }
      
      &+.button {
        border-bottom-left-radius: 0;
      }
    }
  }
}
